<!DOCTYPE html>
<html lang=en>
<head>
	<meta charset=UTF-8>
	<title>Emulatrix</title>
	<link rel=stylesheet href=Emulatrix.css>
</head>
<body>
<script>var container_width;var container_height;var download_running=false;var download_Checker;var download_Filename;var download_LastSize=-1;var download_LastSizeRepeated=0;var upload_running=false;var upload_Checker;var upload_OrigSize=-1;var upload_OrigSizeRepeated=0;function loadRomIntoVD(){startFileSystem();var c=new Uint8Array(parent.ROMDATA);FS.createDataFile("/","game.gba",c,true,false);FS.createFolder("/home/web_user","retroarch",true,true);FS.createFolder("/home/web_user/retroarch","userdata",true,true);var a="scroll_lock";var b="";b+="rgui_browser_directory = /\n";b+="input_player1_start = s\n";b+="input_player1_start_btn = s\n";b+="input_player1_select = a\n";b+="input_player1_select_btn = a\n";b+="input_player1_a = x\n";b+="input_player1_b = z\n";b+="input_player1_l = q\n";b+="input_player1_r = w\n";b+="input_toggle_fast_forward = "+a+"\n";b+="input_hold_fast_forward = "+a+"\n";b+="input_toggle_slowmotion = "+a+"\n";b+="input_hold_slowmotion = "+a+"\n";b+="input_save_state = "+a+"\n";b+="input_load_state = "+a+"\n";b+="input_toggle_fullscreen = "+a+"\n";b+="input_exit_emulator = "+a+"\n";b+="input_state_slot_increase = "+a+"\n";b+="input_state_slot_decrease = "+a+"\n";b+="input_rewind = "+a+"\n";b+="input_movie_record_toggle = "+a+"\n";b+="input_pause_toggle = "+a+"\n";b+="input_frame_advance = "+a+"\n";b+="input_reset = "+a+"\n";b+="input_shader_next = "+a+"\n";b+="input_shader_prev = "+a+"\n";b+="input_cheat_index_plus = "+a+"\n";b+="input_cheat_index_minus = "+a+"\n";b+="input_cheat_toggle = "+a+"\n";b+="input_screenshot = "+a+"\n";b+="input_audio_mute = "+a+"\n";b+="input_osk_toggle = "+a+"\n";b+="input_netplay_game_watch = "+a+"\n";b+="input_enable_hotkey = "+a+"\n";b+="input_volume_up = "+a+"\n";b+="input_volume_down = "+a+"\n";b+="input_overlay_next = "+a+"\n";b+="input_disk_eject_toggle = "+a+"\n";b+="input_disk_next = "+a+"\n";b+="input_disk_prev = "+a+"\n";b+="input_grab_mouse_toggle = "+a+"\n";b+="input_game_focus_toggle = "+a+"\n";b+="input_menu_toggle = "+a+"\n";b+="input_recording_toggle = "+a+"\n";b+="input_streaming_toggle = "+a+"\n";b+="input_player1_x = "+a+"\n";b+="input_player1_y = "+a+"\n";b+="input_player1_l2 = "+a+"\n";b+="input_player1_l3 = "+a+"\n";b+="input_player1_r2 = "+a+"\n";b+="input_player1_r3 = "+a+"\n";b+="input_player1_l_x_plus = "+a+"\n";b+="input_player1_l_x_minus = "+a+"\n";b+="input_player1_l_y_plus = "+a+"\n";b+="input_player1_l_y_minus = "+a+"\n";b+="input_player1_r_x_plus = "+a+"\n";b+="input_player1_r_x_minus = "+a+"\n";b+="input_player1_r_y_plus = "+a+"\n";b+="input_player1_r_y_minus = "+a+"\n";b+="input_player1_gun_trigger = "+a+"\n";b+="input_player1_gun_offscreen_shot = "+a+"\n";b+="input_player1_gun_aux_a = "+a+"\n";b+="input_player1_gun_aux_b = "+a+"\n";b+="input_player1_gun_aux_c = "+a+"\n";b+="input_player1_gun_start = "+a+"\n";b+="input_player1_gun_select = "+a+"\n";b+="input_player1_gun_dpad_up = "+a+"\n";b+="input_player1_gun_dpad_down = "+a+"\n";b+="input_player1_gun_dpad_left = "+a+"\n";b+="input_player1_gun_dpad_right = "+a+"\n";b+="input_player1_turbo = "+a+"\n";b+="input_player2_up = "+a+"\n";b+="input_player2_down = "+a+"\n";b+="input_player2_left = "+a+"\n";b+="input_player2_right = "+a+"\n";b+="input_player2_start = "+a+"\n";b+="input_player2_select = "+a+"\n";b+="input_player2_a = "+a+"\n";b+="input_player2_b = "+a+"\n";b+="input_player2_x = "+a+"\n";b+="input_player2_y = "+a+"\n";b+="input_player2_l = "+a+"\n";b+="input_player2_l2 = "+a+"\n";b+="input_player2_l3 = "+a+"\n";b+="input_player2_r = "+a+"\n";b+="input_player2_r2 = "+a+"\n";b+="input_player2_r3 = "+a+"\n";b+="input_player2_l_x_plus = "+a+"\n";b+="input_player2_l_x_minus = "+a+"\n";b+="input_player2_l_y_plus = "+a+"\n";b+="input_player2_l_y_minus = "+a+"\n";b+="input_player2_r_x_plus = "+a+"\n";b+="input_player2_r_x_minus = "+a+"\n";b+="input_player2_r_y_plus = "+a+"\n";b+="input_player2_r_y_minus = "+a+"\n";b+="input_player2_gun_trigger = "+a+"\n";b+="input_player2_gun_offscreen_shot = "+a+"\n";b+="input_player2_gun_aux_a = "+a+"\n";b+="input_player2_gun_aux_b = "+a+"\n";b+="input_player2_gun_aux_c = "+a+"\n";b+="input_player2_gun_start = "+a+"\n";b+="input_player2_gun_select = "+a+"\n";b+="input_player2_gun_dpad_up = "+a+"\n";b+="input_player2_gun_dpad_down = "+a+"\n";b+="input_player2_gun_dpad_left = "+a+"\n";b+="input_player2_gun_dpad_right = "+a+"\n";b+="input_player2_turbo = "+a+"\n";b+="input_player3_up = "+a+"\n";b+="input_player3_down = "+a+"\n";b+="input_player3_left = "+a+"\n";b+="input_player3_right = "+a+"\n";b+="input_player3_start = "+a+"\n";b+="input_player3_select = "+a+"\n";b+="input_player3_a = "+a+"\n";b+="input_player3_b = "+a+"\n";b+="input_player3_x = "+a+"\n";b+="input_player3_y = "+a+"\n";b+="input_player3_l = "+a+"\n";b+="input_player3_l2 = "+a+"\n";b+="input_player3_l3 = "+a+"\n";b+="input_player3_r = "+a+"\n";b+="input_player3_r2 = "+a+"\n";b+="input_player3_r3 = "+a+"\n";b+="input_player3_l_x_plus = "+a+"\n";b+="input_player3_l_x_minus = "+a+"\n";b+="input_player3_l_y_plus = "+a+"\n";b+="input_player3_l_y_minus = "+a+"\n";b+="input_player3_r_x_plus = "+a+"\n";b+="input_player3_r_x_minus = "+a+"\n";b+="input_player3_r_y_plus = "+a+"\n";b+="input_player3_r_y_minus = "+a+"\n";b+="input_player3_gun_trigger = "+a+"\n";b+="input_player3_gun_offscreen_shot = "+a+"\n";b+="input_player3_gun_aux_a = "+a+"\n";b+="input_player3_gun_aux_b = "+a+"\n";b+="input_player3_gun_aux_c = "+a+"\n";b+="input_player3_gun_start = "+a+"\n";b+="input_player3_gun_select = "+a+"\n";b+="input_player3_gun_dpad_up = "+a+"\n";b+="input_player3_gun_dpad_down = "+a+"\n";b+="input_player3_gun_dpad_left = "+a+"\n";b+="input_player3_gun_dpad_right = "+a+"\n";b+="input_player3_turbo = "+a+"\n";b+="input_player4_up = "+a+"\n";b+="input_player4_down = "+a+"\n";b+="input_player4_left = "+a+"\n";b+="input_player4_right = "+a+"\n";b+="input_player4_start = "+a+"\n";b+="input_player4_select = "+a+"\n";b+="input_player4_a = "+a+"\n";b+="input_player4_b = "+a+"\n";b+="input_player4_x = "+a+"\n";b+="input_player4_y = "+a+"\n";b+="input_player4_l = "+a+"\n";b+="input_player4_l2 = "+a+"\n";b+="input_player4_l3 = "+a+"\n";b+="input_player4_r = "+a+"\n";b+="input_player4_r2 = "+a+"\n";b+="input_player4_r3 = "+a+"\n";b+="input_player4_l_x_plus = "+a+"\n";b+="input_player4_l_x_minus = "+a+"\n";b+="input_player4_l_y_plus = "+a+"\n";b+="input_player4_l_y_minus = "+a+"\n";b+="input_player4_r_x_plus = "+a+"\n";b+="input_player4_r_x_minus = "+a+"\n";b+="input_player4_r_y_plus = "+a+"\n";b+="input_player4_r_y_minus = "+a+"\n";b+="input_player4_gun_trigger = "+a+"\n";b+="input_player4_gun_offscreen_shot = "+a+"\n";b+="input_player4_gun_aux_a = "+a+"\n";b+="input_player4_gun_aux_b = "+a+"\n";b+="input_player4_gun_aux_c = "+a+"\n";b+="input_player4_gun_start = "+a+"\n";b+="input_player4_gun_select = "+a+"\n";b+="input_player4_gun_dpad_up = "+a+"\n";b+="input_player4_gun_dpad_down = "+a+"\n";b+="input_player4_gun_dpad_left = "+a+"\n";b+="input_player4_gun_dpad_right = "+a+"\n";b+="input_player4_turbo = "+a+"\n";b+="input_player5_up = "+a+"\n";b+="input_player5_down = "+a+"\n";b+="input_player5_left = "+a+"\n";b+="input_player5_right = "+a+"\n";b+="input_player5_start = "+a+"\n";b+="input_player5_select = "+a+"\n";b+="input_player5_a = "+a+"\n";b+="input_player5_b = "+a+"\n";b+="input_player5_x = "+a+"\n";b+="input_player5_y = "+a+"\n";b+="input_player5_l = "+a+"\n";b+="input_player5_l2 = "+a+"\n";b+="input_player5_l3 = "+a+"\n";b+="input_player5_r = "+a+"\n";b+="input_player5_r2 = "+a+"\n";b+="input_player5_r3 = "+a+"\n";b+="input_player5_l_x_plus = "+a+"\n";b+="input_player5_l_x_minus = "+a+"\n";b+="input_player5_l_y_plus = "+a+"\n";b+="input_player5_l_y_minus = "+a+"\n";b+="input_player5_r_x_plus = "+a+"\n";b+="input_player5_r_x_minus = "+a+"\n";b+="input_player5_r_y_plus = "+a+"\n";b+="input_player5_r_y_minus = "+a+"\n";b+="input_player5_gun_trigger = "+a+"\n";b+="input_player5_gun_offscreen_shot = "+a+"\n";b+="input_player5_gun_aux_a = "+a+"\n";b+="input_player5_gun_aux_b = "+a+"\n";b+="input_player5_gun_aux_c = "+a+"\n";b+="input_player5_gun_start = "+a+"\n";b+="input_player5_gun_select = "+a+"\n";b+="input_player5_gun_dpad_up = "+a+"\n";b+="input_player5_gun_dpad_down = "+a+"\n";b+="input_player5_gun_dpad_left = "+a+"\n";b+="input_player5_gun_dpad_right = "+a+"\n";b+="input_player5_turbo = "+a+"\n";container_width=document.getElementById("container").offsetWidth;container_height=document.getElementById("container").offsetHeight;b+="video_vsync = true\n";b+="video_scale = 1\n";b+="video_window_x = "+container_width+"\n";b+="video_window_y = "+container_height+"\n";b+="aspect_ratio_index = 23\n";b+="custom_viewport_width = "+container_width+"\n";b+="custom_viewport_height = "+container_height+"\n";b+="custom_viewport_x = 0\n";b+="custom_viewport_y = 0\n";b+="audio_latency = 128\n";b+="video_message_pos_x = -100\n";b+="video_message_pos_y = -100\n";b+="menu_enable_widgets = false\n";FS.createDataFile("/home/web_user/retroarch/userdata","retroarch.cfg",b,true,true);setTimeout(function(){Module.callMain(["-v","/game.gba"]);document.getElementById("canvas").width=container_width;document.getElementById("canvas").height=container_height;setTimeout(function(){resizeEmulatorCanvas()},500);setTimeout(function(){resizeEmulatorCanvas()},1000);setTimeout(function(){resizeEmulatorCanvas()},1500)},1000)}function resizeEmulatorCanvas(){try{container_width=document.getElementById("container").offsetWidth;container_height=document.getElementById("container").offsetHeight;Module.setCanvasSize(container_width,container_height,true)}catch(a){}}function downloadROMState(){try{if(download_running==false&&upload_running==false){download_running=true;Module._cmd_save_state();download_Filename=parent.ROMNAME.replace(/\.[^/.]+$/,"");download_LastSize=-1;download_LastSizeRepeated=0;document.getElementsByClassName("gui_saving")[0].style.display="block";download_Checker=setInterval(download_CheckerCron,1000)}}catch(a){}}function download_CheckerCron(){try{var a=FS.readFile("/home/web_user/retroarch/userdata/states/game.state");if(a.length==download_LastSize){download_LastSizeRepeated=download_LastSizeRepeated+1}else{download_LastSize=a.length}if(download_LastSizeRepeated>parent.STATE_CHECK_TIMES){download_LastSize=-1;download_LastSizeRepeated=0;FS.unlink("/home/web_user/retroarch/userdata/states/game.state");download_Blob(a,download_Filename+".state","application/octet-stream");download_running=false;document.getElementsByClassName("gui_saving")[0].style.display="none";clearInterval(download_Checker)}}catch(b){}}function download_Blob(c,e,d){var a,b;a=new Blob([c],{type:d});b=window.URL.createObjectURL(a);download_URL(b,e)}function download_URL(c,d){var b;b=document.createElement("a");b.href=c;b.download=d;document.body.appendChild(b);b.style="display: none";b.click();b.remove()}function uploadROMState(){if(upload_running==false&&download_running==false){document.getElementById("fileupload_uploader").click()}}function upload_getFile(c){try{var d=c[0].name.split(".").pop().toLowerCase();if(d=="state"){upload_running=true;var a=new FileReader();a.file_name=c[0].name;a.onload=function(){try{var e=FS.readFile("/home/web_user/retroarch/userdata/states/game.state");FS.unlink("/home/web_user/retroarch/userdata/states/game.state")}catch(f){}var g=new Uint8Array(this.result);FS.createDataFile("/home/web_user/retroarch/userdata/states","game.state",g,true,true);upload_OrigSize=g.length;upload_OrigSizeRepeated=0;document.getElementById("fileupload_uploader").value=null;document.getElementsByClassName("gui_loading")[0].style.display="block";upload_Checker=setInterval(upload_CheckerCron,1000)};a.readAsArrayBuffer(c[0])}}catch(b){}}function upload_CheckerCron(){try{var a=FS.readFile("/home/web_user/retroarch/userdata/states/game.state");if(a.length==upload_OrigSize){upload_OrigSizeRepeated=upload_OrigSizeRepeated+1}if(upload_OrigSizeRepeated>parent.STATE_CHECK_TIMES){upload_OrigSize=-1;upload_OrigSizeRepeated=0;upload_running=false;Module._cmd_load_state();document.getElementsByClassName("gui_loading")[0].style.display="none";clearInterval(upload_Checker)}}catch(b){}}window.addEventListener("resize",function(){resizeEmulatorCanvas()});window.addEventListener("load",function(){document.getElementById("container").style.display="block";setTimeout(function(){loadRomIntoVD()},1000);document.addEventListener("click",parent.goBackButtonResetIncrement,false);document.addEventListener("dblclick",parent.goBackButtonResetIncrement,false);document.addEventListener("mousemove",parent.goBackButtonResetIncrement,false);if(isMobileDevice()==true){document.getElementsByClassName("gui_joystick")[0].style.display="block";document.getElementsByClassName("gui_gameboyadvance_keyselect")[0].style.display="block";document.getElementsByClassName("gui_gameboyadvance_keyselect")[0].addEventListener("touchstart",function(a){sendVirtualKey("keydown","KeyA")});document.getElementsByClassName("gui_gameboyadvance_keyselect")[0].addEventListener("touchend",function(a){sendVirtualKey("keyup","KeyA")});document.getElementsByClassName("gui_gameboyadvance_keystart")[0].style.display="block";document.getElementsByClassName("gui_gameboyadvance_keystart")[0].addEventListener("touchstart",function(a){sendVirtualKey("keydown","KeyS")});document.getElementsByClassName("gui_gameboyadvance_keystart")[0].addEventListener("touchend",function(a){sendVirtualKey("keyup","KeyS")});document.getElementsByClassName("gui_gameboyadvance_keya")[0].style.display="block";document.getElementsByClassName("gui_gameboyadvance_keya")[0].addEventListener("touchstart",function(a){sendVirtualKey("keydown","KeyX")});document.getElementsByClassName("gui_gameboyadvance_keya")[0].addEventListener("touchend",function(a){sendVirtualKey("keyup","KeyX")});document.getElementsByClassName("gui_gameboyadvance_keyb")[0].style.display="block";document.getElementsByClassName("gui_gameboyadvance_keyb")[0].addEventListener("touchstart",function(a){sendVirtualKey("keydown","KeyZ")});document.getElementsByClassName("gui_gameboyadvance_keyb")[0].addEventListener("touchend",function(a){sendVirtualKey("keyup","KeyZ")});document.getElementsByClassName("gui_gameboyadvance_keyl")[0].style.display="block";document.getElementsByClassName("gui_gameboyadvance_keyl")[0].addEventListener("touchstart",function(a){sendVirtualKey("keydown","KeyQ")});document.getElementsByClassName("gui_gameboyadvance_keyl")[0].addEventListener("touchend",function(a){sendVirtualKey("keyup","KeyQ")});document.getElementsByClassName("gui_gameboyadvance_keyr")[0].style.display="block";document.getElementsByClassName("gui_gameboyadvance_keyr")[0].addEventListener("touchstart",function(a){sendVirtualKey("keydown","KeyW")});document.getElementsByClassName("gui_gameboyadvance_keyr")[0].addEventListener("touchend",function(a){sendVirtualKey("keyup","KeyW")});showVirtualJoystick()}});window.onerror=function(d,b,e,c,a){setTimeout(function(){Module.callMain(["-v","/game.gba"]);document.getElementById("canvas").width=container_width;document.getElementById("canvas").height=container_height},5000);return true};</script>
<div class=gui_pleasewait_title><script>document.write(parent.STRING_STARTINGEMULATOR);</script></div><div class=pleasewait><div class=lds-spinner><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>
<div id=container><canvas id=canvas oncontextmenu=event.preventDefault()></canvas></div>
<div class=gui_joystick id=joyDiv></div>
<div class=gui_gameboyadvance_keyselect oncontextmenu="return false">SELECT</div>
<div class=gui_gameboyadvance_keystart oncontextmenu="return false">START</div>
<div class=gui_gameboyadvance_keya oncontextmenu="return false">A</div>
<div class=gui_gameboyadvance_keyb oncontextmenu="return false">B</div>
<div class=gui_gameboyadvance_keyl oncontextmenu="return false">L</div>
<div class=gui_gameboyadvance_keyr oncontextmenu="return false">R</div>
<div class=gui_loading><script>document.write(parent.STRING_LOADING);</script></div>
<div class=gui_saving><script>document.write(parent.STRING_SAVING);</script></div>
<input type=file class=fileupload_uploader id=fileupload_uploader onchange=upload_getFile(event.target.files) />
<script src=Emulatrix_GameBoyAdvance.js></script>
</body>
</html>